$(document).ready(function(){
	$('.navbar-toggle').click(function(){
		$("body").toggleClass("nav-active");
	});
	// setInterval(function() {
	//   $(".themes").toggleClass(function(index, className) {
	//     var s = className.split("theme-")[1],
	//       n = s.slice(0, 1);
	//     return "theme-" + n + " theme-" + (n > 3 ? 1 : ++n);
	//   });
	// }, 3000);
	$(".ah-switch a").click(function(){
		$(".ah-switch a").removeClass("active");
		$(this).addClass("active");
	});
	$(".deck-tabs li a").click(function(){
		$(".deck-tabs li a").removeClass("active");
		$(this).addClass("active");
	});
	$("[data-account]").click(function(){
		var ac = $(this).attr("data-account");
		$(".account-holder").hide();
		$(ac).show();
	});
	$(".ah-close").click(function(){
		$(".account-holder").hide();
	});
	$("[data-tab]").click(function(){
		var tb = $(this).attr("data-tab");
		$("[data-tab]").removeClass("active");
		$(this).addClass("active");
		$(".deck-tab-container").removeClass("active");
		$(tb).addClass("active");
	});
	$(".attachment .attach").click(function(){
		$(this).parents(".attachment-panel").removeClass("stage_1");
		$(this).parents(".attachment-panel").removeClass("stage_3");
		$(this).parents(".attachment-panel").addClass("stage_2");
	});
    $(".attachment .save-attach").click(function(){
		$(this).parents(".attachment-panel").removeClass("stage_1");
		$(this).parents(".attachment-panel").removeClass("stage_2");
		$(this).parents(".attachment-panel").addClass("stage_3");
	});
	$(".attachment .delete-attach").click(function(){
		$(this).parents(".attachment-panel").removeClass("stage_3");
		$(this).parents(".attachment-panel").removeClass("stage_2");
		$(this).parents(".attachment-panel").addClass("stage_1");
	});
	
	$(".attachment .edit-attach").click(function(){
		$(this).parents(".attachment-panel").removeClass("stage_3");
		$(this).parents(".attachment-panel").removeClass("stage_1");
		$(this).parents(".attachment-panel").addClass("stage_2");
	});
	$.fn.datepicker.language['en'] = {
		days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
		daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
		daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
		months: ['January','February','March','April','May','June', 'July','August','September','October','November','December'],
		monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
		today: 'Today',
		clear: 'Clear',
		dateFormat: 'mm/dd/yyyy',
		timeFormat: 'hh:ii aa',
		firstDay: 0
	};
	$('.deck-datepicker').datepicker();
	$(".date-sort ul li").click(function(){
		$(".date-sort ul li").removeClass("active");
		$(this).addClass("active");
	});
	$(".nav-toggle").click(function(){
		$(".navbar-menu ul").toggle("slow");
	});
	$("[data-mobile-toggle]").click(function(){
		var mtoggle = $(this).attr("data-mobile-toggle");
		$(mtoggle).toggle("slow");
	});
	$("[data-edit]").click(function(){
		var dataedit = $(this).attr("data-edit");
		$(dataedit).toggleClass("edit-face");
	});
	$(".share-switch").click(function(){
		$(this).toggleClass("active");
	});
	$("[data-message]").click(function(){
		var datamessage = $(this).attr("data-message");
		$(datamessage).show();
	});
	$("[data-message-close]").click(function(){
		var datamessageclose = $(this).attr("data-message-close");
		$(datamessageclose).hide();
	});
	$('.scroll-py').click(function(){
       var panelTop = $(".ah-comments-panel").position().top;
       panelTop = panelTop - 152;
       var outerHt = $('.ah-comments-posted').outerHeight();
       var panelHt =  $(".ah-comments-panel").outerHeight();
       if((panelHt + panelTop) < outerHt) {
           panelTop = outerHt - panelHt;
       }
       if(outerHt < panelHt){
       	$(".ah-comments-panel").animate({top:panelTop}, 500);
       }
   });

	$.fn.textWidth = function(text, font) {    
    if (!$.fn.textWidth.fakeEl) $.fn.textWidth.fakeEl = $('<span>').hide().appendTo(document.body);    
    $.fn.textWidth.fakeEl.text(text || this.val() || this.text() || this.attr('placeholder')).css('font', font || this.css('font'));    
    return $.fn.textWidth.fakeEl.width();
	};

	$('.width-dynamic').on('input', function() {
	    var inputWidth = $(this).textWidth();
	    $(this).css({
	        width: inputWidth
	    })
	}).trigger('input');


	function inputWidth(elem, minW, maxW) {
	    elem = $(this);
	    console.log(elem)
	}

	var targetElem = $('.width-dynamic');

	inputWidth(targetElem);
});


$('.add-ind').click(function(){
	 $(this).parent('.role-section').addClass('btn-hide');
    $(this).parent('.role-section').siblings('.deck-item').removeClass('deck-hide');
});

$(function(){
    $('.ah-comments-panel').slimScroll({
        height: 'auto'
    });
});

